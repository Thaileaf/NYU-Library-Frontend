{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { Platform } from 'expo-modules-core';\nimport CameraManager from \"../ExponentCameraManager\";\nexport var ConversionTables = {\n  type: CameraManager.Type,\n  flashMode: CameraManager.FlashMode,\n  autoFocus: CameraManager.AutoFocus,\n  whiteBalance: CameraManager.WhiteBalance\n};\nexport function convertNativeProps(props) {\n  if (!props || typeof props !== 'object') {\n    return {};\n  }\n\n  var nativeProps = {};\n\n  for (var _i = 0, _Object$entries = Object.entries(props); _i < _Object$entries.length; _i++) {\n    var _ref = _Object$entries[_i];\n\n    var _ref2 = _slicedToArray(_ref, 2);\n\n    var key = _ref2[0];\n    var value = _ref2[1];\n\n    if (typeof value === 'string' && ConversionTables[key]) {\n      nativeProps[key] = ConversionTables[key][value];\n    } else {\n      nativeProps[key] = value;\n    }\n  }\n\n  return nativeProps;\n}\nexport function ensureNativeProps(props) {\n  var newProps = convertNativeProps(props);\n\n  if (newProps.onBarCodeScanned) {\n    newProps.barCodeScannerEnabled = true;\n  }\n\n  if (newProps.onFacesDetected) {\n    newProps.faceDetectorEnabled = true;\n  }\n\n  if (Platform.OS !== 'android') {\n    delete newProps.ratio;\n    delete newProps.useCamera2Api;\n  }\n\n  if (Platform.OS !== 'web') {\n    delete newProps.poster;\n  }\n\n  return newProps;\n}","map":{"version":3,"sources":["../../src/utils/props.ts"],"names":[],"mappings":";AAAA,SAAS,QAAT,QAAyB,mBAAzB;AAUA,OAAO,aAAP;AAGA,OAAO,IAAM,gBAAgB,GAKzB;AACF,EAAA,IAAI,EAAE,aAAa,CAAC,IADlB;AAEF,EAAA,SAAS,EAAE,aAAa,CAAC,SAFvB;AAGF,EAAA,SAAS,EAAE,aAAa,CAAC,SAHvB;AAIF,EAAA,YAAY,EAAE,aAAa,CAAC;AAJ1B,CALG;AAYP,OAAM,SAAU,kBAAV,CAA6B,KAA7B,EAAgD;AACpD,MAAI,CAAC,KAAD,IAAU,OAAO,KAAP,KAAiB,QAA/B,EAAyC;AACvC,WAAO,EAAP;AACD;;AAED,MAAM,WAAW,GAAsB,EAAvC;;AAEA,qCAA2B,MAAM,CAAC,OAAP,CAAe,KAAf,CAA3B,qCAAkD;AAAA;;AAAA;;AAAA,QAAtC,GAAsC;AAAA,QAAjC,KAAiC;;AAChD,QAAI,OAAO,KAAP,KAAiB,QAAjB,IAA6B,gBAAgB,CAAC,GAAD,CAAjD,EAAwD;AACtD,MAAA,WAAW,CAAC,GAAD,CAAX,GAAmB,gBAAgB,CAAC,GAAD,CAAhB,CAAsB,KAAtB,CAAnB;AACD,KAFD,MAEO;AACL,MAAA,WAAW,CAAC,GAAD,CAAX,GAAmB,KAAnB;AACD;AACF;;AAED,SAAO,WAAP;AACD;AAED,OAAM,SAAU,iBAAV,CAA4B,KAA5B,EAA+C;AACnD,MAAM,QAAQ,GAAG,kBAAkB,CAAC,KAAD,CAAnC;;AAEA,MAAI,QAAQ,CAAC,gBAAb,EAA+B;AAC7B,IAAA,QAAQ,CAAC,qBAAT,GAAiC,IAAjC;AACD;;AAED,MAAI,QAAQ,CAAC,eAAb,EAA8B;AAC5B,IAAA,QAAQ,CAAC,mBAAT,GAA+B,IAA/B;AACD;;AAED,MAAI,QAAQ,CAAC,EAAT,KAAgB,SAApB,EAA+B;AAC7B,WAAO,QAAQ,CAAC,KAAhB;AACA,WAAO,QAAQ,CAAC,aAAhB;AACD;;AAED,MAAI,QAAQ,CAAC,EAAT,KAAgB,KAApB,EAA2B;AACzB,WAAO,QAAQ,CAAC,MAAhB;AACD;;AAED,SAAO,QAAP;AACD","sourcesContent":["import { Platform } from 'expo-modules-core';\n\nimport {\n  CameraNativeProps,\n  CameraType,\n  FlashMode,\n  AutoFocus,\n  WhiteBalance,\n  CameraProps,\n} from '../Camera.types';\nimport CameraManager from '../ExponentCameraManager';\n\n// Values under keys from this object will be transformed to native options\nexport const ConversionTables: {\n  type: Record<keyof typeof CameraType, CameraNativeProps['type']>;\n  flashMode: Record<keyof typeof FlashMode, CameraNativeProps['flashMode']>;\n  autoFocus: Record<keyof typeof AutoFocus, CameraNativeProps['autoFocus']>;\n  whiteBalance: Record<keyof typeof WhiteBalance, CameraNativeProps['whiteBalance']>;\n} = {\n  type: CameraManager.Type,\n  flashMode: CameraManager.FlashMode,\n  autoFocus: CameraManager.AutoFocus,\n  whiteBalance: CameraManager.WhiteBalance,\n};\n\nexport function convertNativeProps(props?: CameraProps): CameraNativeProps {\n  if (!props || typeof props !== 'object') {\n    return {};\n  }\n\n  const nativeProps: CameraNativeProps = {};\n\n  for (const [key, value] of Object.entries(props)) {\n    if (typeof value === 'string' && ConversionTables[key]) {\n      nativeProps[key] = ConversionTables[key][value];\n    } else {\n      nativeProps[key] = value;\n    }\n  }\n\n  return nativeProps;\n}\n\nexport function ensureNativeProps(props?: CameraProps): CameraNativeProps {\n  const newProps = convertNativeProps(props);\n\n  if (newProps.onBarCodeScanned) {\n    newProps.barCodeScannerEnabled = true;\n  }\n\n  if (newProps.onFacesDetected) {\n    newProps.faceDetectorEnabled = true;\n  }\n\n  if (Platform.OS !== 'android') {\n    delete newProps.ratio;\n    delete newProps.useCamera2Api;\n  }\n\n  if (Platform.OS !== 'web') {\n    delete newProps.poster;\n  }\n\n  return newProps;\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}