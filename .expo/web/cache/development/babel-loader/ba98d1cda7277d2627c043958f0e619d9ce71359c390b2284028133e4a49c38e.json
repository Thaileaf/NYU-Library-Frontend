{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport inRange from 'lodash/inRange';\nimport times from 'lodash/times';\nimport debounce from 'lodash/debounce';\nimport constants from \"../commons/constants\";\nimport { generateDay } from \"../dateutils\";\nexport var PAGES_COUNT = 100;\nexport var NEAR_EDGE_THRESHOLD = 10;\nexport var INITIAL_PAGE = Math.floor(PAGES_COUNT / 2);\nvar UseTimelinePages = function UseTimelinePages(_ref) {\n  var date = _ref.date,\n    listRef = _ref.listRef,\n    numberOfDays = _ref.numberOfDays;\n  var pagesRef = useRef(times(PAGES_COUNT, function (i) {\n    return generateDay(date, numberOfDays * (i - Math.floor(PAGES_COUNT / 2)));\n  }));\n  var _useState = useState(pagesRef.current),\n    _useState2 = _slicedToArray(_useState, 2),\n    pages = _useState2[0],\n    setPages = _useState2[1];\n  var shouldResetPages = useRef(false);\n  useEffect(function () {\n    var updatedDays = times(PAGES_COUNT, function (i) {\n      return generateDay(date, numberOfDays * (i - Math.floor(PAGES_COUNT / 2)));\n    });\n    pagesRef.current = updatedDays;\n    setPages(updatedDays);\n  }, [numberOfDays]);\n  var isOutOfRange = useCallback(function (index) {\n    return !inRange(index, 0, PAGES_COUNT);\n  }, []);\n  var isNearEdges = useCallback(function (index) {\n    return !inRange(index, NEAR_EDGE_THRESHOLD, PAGES_COUNT - NEAR_EDGE_THRESHOLD);\n  }, []);\n  var isOnEdgePages = useCallback(function (index) {\n    return !inRange(index, 1, PAGES_COUNT - 1);\n  }, []);\n  var scrollToPage = function scrollToPage(pageIndex) {\n    var _listRef$current;\n    (_listRef$current = listRef.current) == null ? void 0 : _listRef$current.scrollToOffset(pageIndex * constants.screenWidth, 0, false);\n  };\n  var resetPages = function resetPages(date) {\n    pagesRef.current = times(PAGES_COUNT, function (i) {\n      return generateDay(date, numberOfDays * (i - Math.floor(PAGES_COUNT / 2)));\n    });\n    setPages(pagesRef.current);\n    setTimeout(function () {\n      scrollToPage(INITIAL_PAGE);\n      shouldResetPages.current = false;\n    }, 0);\n  };\n  return {\n    resetPages: useCallback(resetPages, []),\n    resetPagesDebounce: useCallback(debounce(resetPages, 500, {\n      leading: false,\n      trailing: true\n    }), []),\n    scrollToPage: useCallback(scrollToPage, []),\n    scrollToPageDebounce: useCallback(debounce(scrollToPage, 250, {\n      leading: false,\n      trailing: true\n    }), []),\n    pagesRef: pagesRef,\n    pages: pages,\n    shouldResetPages: shouldResetPages,\n    isOutOfRange: isOutOfRange,\n    isNearEdges: isNearEdges,\n    isOnEdgePages: isOnEdgePages\n  };\n};\nexport default UseTimelinePages;","map":{"version":3,"names":["useCallback","useEffect","useRef","useState","inRange","times","debounce","constants","generateDay","PAGES_COUNT","NEAR_EDGE_THRESHOLD","INITIAL_PAGE","Math","floor","UseTimelinePages","_ref","date","listRef","numberOfDays","pagesRef","i","_useState","current","_useState2","_slicedToArray","pages","setPages","shouldResetPages","updatedDays","isOutOfRange","index","isNearEdges","isOnEdgePages","scrollToPage","pageIndex","_listRef$current","scrollToOffset","screenWidth","resetPages","setTimeout","resetPagesDebounce","leading","trailing","scrollToPageDebounce"],"sources":["C:/Users/letha/WebstormProjects/NYU-Library-Frontend/node_modules/react-native-calendars/src/timeline-list/useTimelinePages.js"],"sourcesContent":["import { useCallback, useEffect, useRef, useState } from 'react';\nimport inRange from 'lodash/inRange';\nimport times from 'lodash/times';\nimport debounce from 'lodash/debounce';\nimport constants from '../commons/constants';\nimport { generateDay } from '../dateutils';\nexport const PAGES_COUNT = 100;\nexport const NEAR_EDGE_THRESHOLD = 10;\nexport const INITIAL_PAGE = Math.floor(PAGES_COUNT / 2);\nconst UseTimelinePages = ({ date, listRef, numberOfDays }) => {\n    const pagesRef = useRef(times(PAGES_COUNT, i => {\n        return generateDay(date, numberOfDays * (i - Math.floor(PAGES_COUNT / 2)));\n    }));\n    const [pages, setPages] = useState(pagesRef.current);\n    const shouldResetPages = useRef(false);\n    useEffect(() => {\n        const updatedDays = times(PAGES_COUNT, i => {\n            return generateDay(date, numberOfDays * (i - Math.floor(PAGES_COUNT / 2)));\n        });\n        pagesRef.current = updatedDays;\n        setPages(updatedDays);\n    }, [numberOfDays]);\n    const isOutOfRange = useCallback((index) => {\n        return !inRange(index, 0, PAGES_COUNT);\n    }, []);\n    const isNearEdges = useCallback(index => {\n        return !inRange(index, NEAR_EDGE_THRESHOLD, PAGES_COUNT - NEAR_EDGE_THRESHOLD);\n    }, []);\n    const isOnEdgePages = useCallback(index => {\n        return !inRange(index, 1, PAGES_COUNT - 1);\n    }, []);\n    const scrollToPage = (pageIndex) => {\n        listRef.current?.scrollToOffset(pageIndex * constants.screenWidth, 0, false);\n    };\n    const resetPages = (date) => {\n        pagesRef.current = times(PAGES_COUNT, i => {\n            return generateDay(date, numberOfDays * (i - Math.floor(PAGES_COUNT / 2)));\n        });\n        setPages(pagesRef.current);\n        setTimeout(() => {\n            scrollToPage(INITIAL_PAGE);\n            shouldResetPages.current = false;\n        }, 0);\n    };\n    return {\n        resetPages: useCallback(resetPages, []),\n        resetPagesDebounce: useCallback(debounce(resetPages, 500, { leading: false, trailing: true }), []),\n        scrollToPage: useCallback(scrollToPage, []),\n        scrollToPageDebounce: useCallback(debounce(scrollToPage, 250, { leading: false, trailing: true }), []),\n        pagesRef,\n        pages,\n        shouldResetPages,\n        isOutOfRange,\n        isNearEdges,\n        isOnEdgePages\n    };\n};\nexport default UseTimelinePages;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}